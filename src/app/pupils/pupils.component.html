<div>
  <h1>Таблица учеников</h1>
  <form [formGroup]="pupForm">
    <table cellspacing="2" border="1" cellpadding="5" width="600">
      <tr>
        <th>Номер</th>
        <th>Фамилия</th>
        <th>Имя</th>
        <th>Отчество</th>
      </tr>

      <tr
        formArrayName="pupils"
        *ngFor="let lesson of pupForm.get('pupils')['controls']; let i = index"
      >
      <td [formGroupName]="i">{{ i + 1 + " "
      }}</td>
        <td [formGroupName]="i">
          <input
            type="text"
            formControlName="surname"
            [readonly]="chReadOnly"
          />
        </td>
        <td [formGroupName]="i">
          <input type="text" formControlName="name" [readonly]="chReadOnly" />
        </td>
        <td [formGroupName]="i">
          <input
            type="text"
            formControlName="patronymic"
            [readonly]="chReadOnly"
          />
        </td>
      </tr>
    </table>
  </form>

  <button type="button" style="background-color: green; color: honeydew;" (click)="addPupil(pupForm.get('pupils')['controls'])">Добавить ученика</button>
  <button type="button" style="background-color: red; color: honeydew;" (click)="delPupil()">Удалить ученика</button>
  <button type="button" [ngClass]="{bgCol: isBgColorGrey}" (click)="toggle()">Редактировать форму</button>
  <br>
  <button type="button" (click)="sendForm()">Отправить</button>
</div>
